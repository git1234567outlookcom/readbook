 # 基础数据按性质
- 定性数据：用于频数或者频率分析
- 定量数据：可以用于数字量化的数值

> 数据分析误区

- 元素不宜大于三个
- 时间序列数据最好使用折线图
- 避免图表的欺骗性，图线最好占 2/3至3/4的高度，调整y轴刻度


> 分析阶段

1.  数据处理 检验、清晰、处理缺失数据
2.  描述性分析 数据处理、统计分析、分析报表描述性分析只要是对收集的数据进行分析，得出反应客观现象的各种数据特征的一种分析方法包括

    * 集中趋势分析
    * 数据离散程度分析
    * 数据的频率分析

3.  推断性分析 单变量和多变量分析、线性和非线性回归分析、指数平滑等时间序列模型研究如何根据样本数据推断总体数量特征是对样本数据进行描述统计分析的基础上对总体的数量特征作出推断
    * 假设检验
    * 相关分析
    * 回归分析
    * 时间序列分析
4.  探索性分析 联合分析、分类决策树、神经网络模型、分类数据分析通过一些分析方法从打猎的数据中发现未知且有价值信息的过程不受研究性假设和分析模型的限制尽可能的寻找变量之间的关联性
    * 聚类分析
    * 因子分析
    * 对应分析

> 数据处理：

是根据数据分析的目的，将收集到的数据，用适当的处理方法进行加工、整理形成适合数据分析的要求样式

* 数据清洗
  * 将多余重复的数据筛选清除
  * 将缺失的数据补充完整
  * 将错误数据纠正或删除
* 数据抽取或拆分
  * 保留、抽取原数据表中某些字段、记录的部分信息
  * 形成新字段、新记录
* 数据合并
* 数据计算
* 数据分组等

# 数据概念

* 数据变量
  * 数据库中的字段
* 数据类型
  * 文本、数值、日期
* 变量尺度
  * 定类尺度
  * 定序尺度
  * 定距尺度
  * 定比尺度

> 随机抽样

按照随机的原则
保证总体中每个单位都**有同等机会**被抽中的原则，进行样本抽取的一种方法

> 分层抽样

按照研究内容密切有关的主要因素分类或分层
然后在各层中按照随机原则抽取样本
可以减少层内差异性
增加样本的代表性

> 系统抽样

从总体中每隔k个个体抽取一个个的抽样方法
比值k是总体量n与样本容量n之比

> 数据标准化

将数据按比例缩放，使之落到一个特定区间
为了消除量纲（单位）的影响

* 0-1 标准化
  * 离差标准化
  * 对原始数据进行线性变换
  * 使结果落到 01 区间
  * （x - 最小值） /（最大-最小）
* z 标准化
  * 标准差标准化
  * 将变量中的原数据减去该变量的平局值，
  * 然后除以该变量的标准差
  * 经过处理的数据符合标准正态分布
  * 均值为 0，标准差为 1

> 频率分析

描述性分析，分析数据的集中和离散程度
通过频数**分布表、条形图和直方图**以及集中趋势和离散趋势的各种统计量来描述数据的分布特征

* 分类变量的频率分析
* 连续变量的频率分析

有效个案数：在该变量下，一共与多少个个案数是有数值并且没有定义为缺失值的缺失个案数：即在该变量下，全部  个案数减去个案减去有效个案数，包括本身没有数值和被定义为缺失值的数值

百分位值：主要用于对连续变量数据离散程度的测量集中趋势： 主要反映数据向其中心值聚集的程度，是对数据一般水平的概括性度量主要通过

* 平均值
  * 充分利用数据全部信息
  * 容易受到极端值影响
  * **衡量集中趋势**
  * 定距、定比
* 中位数
  * 不受极端值影响
  * 数据信息量不充分
  * 定序、定距、 定比
  * 从大到小排序，取中间的数，中间两个数的话取平均值
* 众数 
  * 出现次数最多的数值
  * 不受极端值影响
  * 数据信息量不充分
  * 定类、定序

- 极差 
  计算数值分开的有多远
  最大-最小，数字越大表示分的越开
- 中程数
  最大和最小的平均值

> 离散趋势

反映数据远离中心值的程度，是衡量集中趋势值对整个数据的代表程度

* 离散程度越接近 0 ，集中趋势值代表  性越高
* 数据的离散程度主要通过范围、标准差、方差来标示

> 分布特征

数据应当服从某种分布每种分布都可以采用一系列的指标来描述数据偏离分布的程度

条形图：主要用于展示分类数据
直方图：展示连续数据

描述性分析提供的统计量仅适用于联系变量频率分析即可用于分析连续变量，可用于分析分类变量

> 交叉表分析

用于分析两个或两个以上分组变量之间的关联关系进行分组变量间关系的对比分析从数据的不同角度进行分组细分进一步了解数据的构成、分布特征

> 相关分析

* 相关关系
  * 现象之间存在着非严格的、不确定的依存关系
  * 某一现象在数量上发生变化会影响另一现象数量上的变化
  * 这种变化在数量上具有一定的随机性
    * 线性相关：
      * 一个连续变量发生变动时，
      * 另一个连续变量相应地呈线性关系变动，
      * 用 pearson 相关系数 r 来度量
      * 0<= |r| < 0.3 低
      * 0.3<= |r| < 0.8 中
      * 0.8<= |r| < 1 高
      * 简单线性回归、多重线性回归
    * 非线性相关
        * 通过对数转化等方式
        * 将其转化为线性回归的形式研究
* 回归函数关系
  * 现象之间存在着依存关系
  * 对于某一变量的每一个数值，都有另一变量值与之相对应
  * 这种依存关系可以用一个数学表达式反映出来

> 回归分析

研究自变量与因变量之间数量变化关系的一种分析方法主要是通过建立因变量 y 与影响它的自变量 x（i=1，2，3.。。）之间的回归模型衡量自变量 x 对应变量 y 的影响能力进而可以用来预测因变量 y 的发展趋势

一般先进行相关分析，计算相关系数，然后进行回归模型，最后用回归模型进行推算或预测


相关分析一般就的都是随机变量，不分自变量与因变量
回归分析研究的要定义自变量与因变量，自变量为普通变量，因变量是随机变量

相关分析主要是描述两个变量之间相关关系的密切程度
线性回归不仅可以揭示变量x对变量y的影响程度，还可以根据回归模型进行预测


 > 线性回归分析步骤

1. 根据预测目标，确定自变量和因变量
2. 绘制散点图，确定回归模型
3. 估计模型参数，建立回归模型
4. 对回归模型进行检验
5. 利用回归模型进行预测

> 简单线性回归

 称为一元线性回归
 回归模型中只含有一个自变量
 处理一个自变量与一个因变量的线性关系

 因变量 = 常数项（回归直线在纵坐标轴上的截距） + 回归系数（回归直线的斜率）* 自变量 + 随机误差（随机因素对因变量所产生的影响）

> 最小二乘法

 通过最小误差的平方和寻找数据的最佳函数匹配
 将误差最小化和将误差最小化的方法是误差的平方和最小化

 使得观测点和估计点的距离的平方和达到最小
 用平方来度量观测点与估计点的远近
 参数的估计值要保证各观测点与估计点的距离的平方和达到最小


 > logistic 回归

 是针对因变量为分类变量而进行回归分析的一种统计方法
 属于概率性非线性回归
 因变量是连续变量
 那么线性回归能够根据因变量和自变量之间存在的线性关系来构建回归方程
 当不存在这种线性关系时，这个变换称为对数变换，将非线性问题转换为线性问题


二分类就是两个分类状态
多分类就是多个类别的状态


线性回归                 | logistic 回归
因变量是连续变量           | 因变量是分类变量
自变量与因变量呈线性关系    | 自变量与因变量呈非线性关系
因变量呈正态分布        | 因变量呈 0/1 分布
预测结果是连续型数值   | 预测结果是介于0 和1 之间的概率值 


---

 > 时间序列

长期趋势 Trend
指在一个相当长的时间内表现为一种近似直线的持续向上或向下或平稳的趋势

季节变动 Season
季节周期


循环变动 Cyclic

较长时间的上下起伏周期性波动


不规则变动 Irregular
指受偶然因素影响所形成的不规则波动

时间序列可以是四种因素的加法或乘法

季节变动的存在有时会让预测模型误判其为不规则变动


--- 
# 象形统计图

---

# 箱线图

中位数和散布情况


1. 排序找出中位数
2. 再次找出中位数，将数据分为4个子集

须（极小值）  盒（盒子中的线是中位数）  须（极大值）

数据被分成了四个分区
- Q1 极小值到盒子的边框
- Q2 边框到中位数
- Q3 中位数到边框
- Q4 边框到极大值



# 集中趋势

统计学分类
- 描述性统计学
- 推论统计学


> 集中趋势
“平均值” 描述集中趋势的某特定数值

获取的三种方法（经过排序的数据）
 - 均值 mean  总和/个数
 - 中位数 medium  中间位置的数， 取中间的两个数的平均数
 - 众数mode 一组数据中出现最多的数

一组数据中有一个或几个数值与其他数值相比差异较大叫做离群值

有时候平均数并不能表现出来真实的情况
比如： 我和首富财产的均值，并不能代表整体的收入水平


# 样本和总体

> 总体平均值  population mean 

$\mu=\frac{\sum_{i=0}^nx_i}{n}$

> 样本平均值  sample mean  

$\bar{X}=\frac{\sum_{i=0}^Nx_i}{N}$


# 总体方差

离中趋势衡量 dispersion 

> 方差 

$\sigma^2=\frac{\sum^N_{i=1}(x_i-\mu)^2}{N}$

每个数到均值距离的平方之和除总个数


# 样本方差

推论统计学就是样本进行分析预测总体

> 样本均值 

$\bar{x}=\frac{\sum^n_{i=1}x_i}{n}$

> 样本方差公式
 
$s^2=\frac{\sum^n_{i=1}(x_i-\bar{x})^2}{n}$

样本的采取可能会影响样本方差和总体方差的差异比较大

> 无偏差样本方差

$s^2=s^2_{n-1}=\frac{\sum^n_{i=1}(x_i-\bar{x})^2}{n-1}$

# 标准差

- 集中趋势
  - 总体 population 
  - 样本 sample
  - 均值 mean 
  - 中位数 median
  - 众数 mode
  - 总体平均值 $\mu$
  - 样本均值 $\bar{x}$
- 离中趋势
  - 总体方差 $\sigma^2$
    - 各项和和均值平方的和/项数
  - 样本方差 
  - 无偏样本方差 $s^2$  
    - 各样本点减去总的平均值的平方的和 
  - 标准差 $\sigma$
    - 是方差的算数平方根


# 其他方差公式

总体方差公式简化

$\mu$ 是平均值

$$\sigma^2 = \frac{\sum^N_{i=1}x^2_i}{N} - \mu^2$$


# 随机变量

Randdom Variable

随机变量就是函数映射

量化随机变量

- 随机变量
  - 离散随机变量
    - 是有穷的
    - 出现的概率均匀分布
  - 连续随机变量
    - 概率密度函数


概率分布